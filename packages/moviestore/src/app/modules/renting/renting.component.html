<section class="renting" *ngIf="movie">
  <div
    class="renting-bg"
    [style.background-image]="'url(' + movie.background + ')'"
  ></div>

  <div class="renting-body">
    <form [formGroup]="form">
      <div class="renting-movie movie">
        <div
          class="movie-image"
          [style.background-image]="'url(' + movie.avatar + ')'"
        ></div>
        <div class="movie-info">
          <h2 class="movie-title">{{ movie.name }}</h2>
          <div class="movie-stars">
            <p>{{ movie.time }} min</p>
            <i class="fas fa-star" [class.active]="movie.stars > 0"></i>
            <i class="fas fa-star" [class.active]="movie.stars > 1"></i>
            <i class="fas fa-star" [class.active]="movie.stars > 2"></i>
            <i class="fas fa-star" [class.active]="movie.stars > 3"></i>
            <i class="fas fa-star" [class.active]="movie.stars > 4"></i>
            <i class="fas fa-star" [class.active]="movie.stars > 5"></i>
          </div>
          <p class="movie-decription">
            {{ movie.description }}
          </p>
          <p class="movie-gender">
            {{ movie.gender }}
          </p>
          <p class="movie-director">Director: {{ movie.director }}</p>
          <div class="renting-value">
            <div>
              <mat-form-field>
                <input
                  matInput
                  type="number"
                  formControlName="unity"
                  placeholder="Number days"
                />
                <mat-error>{{ getError('unity') }}</mat-error>
              </mat-form-field>

              x
              <span>
                {{ movie.price | currency }}
              </span>
            </div>
            <div>{{ count }} unidades</div>
          </div>
        </div>
      </div>

      <div class="renting-rent">
        <div class="value">
          valor: <span>{{ calculate() | currency }}</span>
        </div>
        <div>
          <button mat-button (click)="rent()">Rent</button>
        </div>
      </div>
      <small class="mat-error">{{ message }}</small>
    </form>
  </div>
</section>
